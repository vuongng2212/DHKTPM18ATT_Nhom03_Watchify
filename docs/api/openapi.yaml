openapi: 3.0.3
info:
  title: Watchify API
  description: |-
    Tài liệu API chính thức cho dự án Watchify.

    Đây là tài liệu đặc tả các endpoint được cung cấp bởi backend Spring Boot,
    giúp đội ngũ frontend và các bên liên quan có thể hiểu và tích hợp một cách dễ dàng.
  contact:
    email: admin@watchify.com
  version: 1.0.0

servers:
  - url: http://localhost:8080/api/v1
    description: Development server

tags:
  - name: Auth
    description: Các API liên quan đến xác thực và quản lý tài khoản
  - name: Products
    description: Các API công khai để truy vấn sản phẩm và danh mục
  - name: Carts
    description: Các API quản lý giỏ hàng
  - name: Orders
    description: Các API quản lý đơn hàng của khách hàng
  - name: Admin/Products
    description: (Admin) Các API quản lý sản phẩm
  - name: Admin/Orders
    description: (Admin) Các API quản lý đơn hàng

paths:
  # Auth paths
  /auth/register:
    $ref: './paths/auth_register.yaml'
  /auth/login:
    $ref: './paths/auth_login.yaml'
  /users/me:
    $ref: './paths/users_me.yaml'

  # Product paths
  /products:
    $ref: './paths/products_list.yaml'
  /products/{productId}:
    $ref: './paths/products_detail.yaml'
  /products/{productId}/reviews:
    $ref: './paths/product_reviews.yaml'

  # Cart paths
  /cart:
    $ref: './paths/cart_get.yaml'
  /cart/items:
    $ref: './paths/cart_items_post.yaml'
  /cart/items/{productId}:
    $ref: './paths/cart_items_update_delete.yaml'

  # Order paths
  /orders:
    $ref: './paths/orders_list_and_create.yaml'
  /orders/{orderId}:
    $ref: './paths/orders_detail.yaml'

components:
  schemas:
    User:
      $ref: './components/schemas/User.yaml'
    Product:
      $ref: './components/schemas/Product.yaml'
    ErrorResponse:
      $ref: './components/schemas/ErrorResponse.yaml'
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

security:
  - BearerAuth: []