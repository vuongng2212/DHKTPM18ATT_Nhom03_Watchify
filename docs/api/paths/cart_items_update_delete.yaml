parameters:
  - name: productId
    in: path
    description: ID của sản phẩm trong giỏ hàng cần thao tác.
    required: true
    schema:
      type: string
      format: uuid

put:
  tags:
    - Carts
  summary: Cập nhật số lượng một sản phẩm trong giỏ hàng
  operationId: updateCartItem
  security:
    - BearerAuth: []
  requestBody:
    required: true
    content:
      application/json:
        schema:
          type: object
          required:
            - quantity
          properties:
            quantity:
              type: integer
              description: Số lượng mới của sản phẩm. Nếu là 0, sản phẩm sẽ bị xóa.
              example: 2
  responses:
    '200':
      description: Cập nhật thành công, trả về giỏ hàng mới.
      content:
        application/json:
          schema:
            $ref: '../components/schemas/Cart.yaml'
    '400':
      description: Dữ liệu không hợp lệ.
      content:
        application/json:
          schema:
            $ref: '../components/schemas/ErrorResponse.yaml'
    '401':
      description: Unauthorized.
    '404':
      description: Không tìm thấy sản phẩm trong giỏ hàng.

delete:
  tags:
    - Carts
  summary: Xóa một sản phẩm khỏi giỏ hàng
  operationId: deleteCartItem
  security:
    - BearerAuth: []
  responses:
    '200':
      description: Xóa thành công, trả về giỏ hàng mới.
      content:
        application/json:
          schema:
            $ref: '../components/schemas/Cart.yaml'
    '401':
      description: Unauthorized.
    '404':
      description: Không tìm thấy sản phẩm trong giỏ hàng.